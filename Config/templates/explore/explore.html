{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <!-- Explore Banner -->
    <div class="row">
        <div class="col-12 text-center py-4 bg-light">
            <i class="material-icons" style="font-size: 48px; color: #6c757d;">explore</i>
            <h5 class="text-uppercase text-muted">Explore</h5>
            <h3 class="font-weight-bold">Discover New Ideas and Connections</h3>
        </div>
    </div>

    <div class="row mt-4">
        <!-- Sidebar -->
        <div class="col-md-3">
            <div class="bg-light border rounded">
                <h5 class="text-center py-3">Navigation</h5>
                <div class="list-group">
                    <a href="{% url 'explore:profile_suggestions' %}" class="list-group-item list-group-item-action">Profile Suggestions</a>
                    <a href="{% url 'explore:search_posts' %}" class="list-group-item list-group-item-action">Search Posts</a>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Fields of Interest
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="{% url 'explore:filter_posts' category='Artificial Intelligence' %}">Artificial Intelligence</a>
                            <a class="dropdown-item" href="{% url 'explore:filter_posts' category='Machine Learning' %}">Machine Learning</a>
                            <a class="dropdown-item" href="{% url 'explore:filter_posts' category='Cybersecurity' %}">Cybersecurity</a>
                            <a class="dropdown-item" href="{% url 'explore:filter_posts' category='Blockchain' %}">Blockchain</a>
                        </div>
                    </div>
                    <a href="{% url 'explore:search_posts' %}" class="list-group-item list-group-item-action">
                        <i class="bx bx-search icon"></i> Search
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <!-- Friends Following Section -->
            <section id="friends-following">
                <h4 class="font-weight-bold">Friends You're Following</h4>
                <div class="row">
                    {% for friend in friends_following %}
                    <div class="col-md-4 mb-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">{{ friend.followed.username }}</h5>
                                <p class="card-text">{{ friend.followed.profile_info|truncatechars:100 }}</p>
                                <a href="{% url 'profile' friend.followed.username %}" class="btn btn-primary btn-sm">View Profile</a>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <p>No friends found.</p>
                    {% endfor %}
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}
